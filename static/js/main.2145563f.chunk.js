(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n(34)},30:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),c=n(6),l=n.n(c),s=(n(30),n(31),function(){return o.a.createElement("tr",{key:"tableHeader"},o.a.createElement("td",null,"Company Name"),o.a.createElement("td",null,"Share Price"),o.a.createElement("td",null,"Last Updated"))}),i=n(14),u={backgroundColor:"#FF0000"},h={backgroundColor:"#58FF33"},m=Object(a.b)((function(e,t){return{shareColor:e.shares[t.companyName].color,sharePrice:e.shares[t.companyName].price}}),{})((function(e){var t=e.shareColor,n=e.sharePrice,r=Object(i.a)(e,["shareColor","sharePrice"]);console.log("amar "+r.companyName);var a=0===t?{}:1===t?u:h,c=(new Date).toLocaleString();return o.a.createElement("tr",{key:r.key,style:a},o.a.createElement("td",null,r.companyName),o.a.createElement("td",null,n),o.a.createElement("td",null,c))})),p=Object(a.b)((function(e){return{shares:Object.keys(e.shares)}}),{})((function(e){for(var t=[],n=0;n<e.shares.length;n++)t.push(o.a.createElement(m,{key:e.shares[n],companyName:e.shares[n]}));return o.a.createElement("div",null,o.a.createElement("h1",{id:"title"},"Share Market World"),o.a.createElement("table",{id:"sharesTable"},o.a.createElement("thead",null,o.a.createElement(s,null)),o.a.createElement("tbody",null,t)))})),f=n(15),y=n(16),b=n(19),d=n(17),O=n(20),E=n(10),v=3,g=new E.w3cwebsocket("ws://stocks.mnet.website"),w=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(d.a)(t).call(this,e))).closeConnection=function(){console.log(n.state.retryCount);var e=n.state.retryCounts;e!==v?(n.setState({retryCounts:e++}),setTimeout(n.checkForConnection,Math.min(1e4,250*e))):alert("Max retry reached for connection to server, Please retry again after some time")},n.getConnection=function(){g.onopen=function(){},g.onmessage=function(e){console.log(e.data),n.props.setShares(e.data)},g.onerror=function(e){alert("Error in connection establishment"),g.close()},g.onclose=function(e){n.closeConnection()}},n.checkForConnection=function(){g&&g.readyState!==E.w3cwebsocket.CLOSED||n.getConnection()},n.state={retryCounts:0},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){console.log("yup"),this.getConnection()}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(r.Component),j=Object(a.b)(null,{setShares:function(e){return{type:"SET_SHARES",payload:{shareObj:e}}}})(w);var k=function(){return o.a.createElement("div",null,o.a.createElement(j,null),o.a.createElement(p,null))},C=n(5),S=n(18);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={shares:{}};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SHARES":for(var n=t.payload.shareObj,r=JSON.parse(n),o=e.shares,a=0;a<r.length;a++){var c=r[a][0],l=r[a][1];if(void 0!==o[c])l>o[c].price?o[c].color=1:l<o[c].price?o[c].color=2:o[c].color=0;else{if(Object.keys(o).length>25)break;o[c]={},o[c].price=l,o[c].color=0}}return N({},e,{shares:N({},e.shares)});default:return e}},F=[function(e){return function(e){return function(t){e(t)}}}],T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.c,M=Object(C.d)(D,T(C.a.apply(void 0,F)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(a.a,{store:M},o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.2145563f.chunk.js.map